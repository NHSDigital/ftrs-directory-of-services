{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
          "apigateway:GET"
      ],
      "Resource": "arn:aws:apigateway:*::/*"
    },
      {
        "Effect": "Allow",
        "Action": [
            "events:DescribeRule",
            "events:DescribeEventBus",
            "events:DescribeEventSource",
            "events:ListEventBuses",
            "events:ListEventSources",
            "events:ListRuleNamesByTarget",
            "events:ListRules",
            "events:ListTargetsByRule",
            "events:TestEventPattern",
            "events:DescribeArchive",
            "events:ListArchives",
            "events:DescribeReplay",
            "events:ListReplays",
            "events:DescribeConnection",
            "events:ListConnections",
            "events:DescribeApiDestination",
            "events:ListApiDestinations",
            "events:DescribeEndpoint",
            "events:ListEndpoints",
            "schemas:DescribeCodeBinding",
            "schemas:DescribeDiscoverer",
            "schemas:DescribeRegistry",
            "schemas:DescribeSchema",
            "schemas:ExportSchema",
            "schemas:GetCodeBindingSource",
            "schemas:GetDiscoveredSchema",
            "schemas:GetResourcePolicy",
            "schemas:ListDiscoverers",
            "schemas:ListRegistries",
            "schemas:ListSchemas",
            "schemas:ListSchemaVersions",
            "schemas:ListTagsForResource",
            "schemas:SearchSchemas",
            "scheduler:GetSchedule",
            "scheduler:GetScheduleGroup",
            "scheduler:ListSchedules",
            "scheduler:ListScheduleGroups",
            "scheduler:ListTagsForResource",
            "pipes:DescribePipe",
            "pipes:ListPipes",
            "pipes:ListTagsForResource"
        ],
        "Resource": "*"
    },
    {
      "Effect": "Allow",
      "Action": [
          "ssm:Describe*",
          "ssm:Get*",
          "ssm:List*"
      ],
      "Resource": "*"
    },
    {
      "Effect": "Allow",
      "Action": [
          "es:Describe*",
          "es:List*",
          "es:Get*"
      ],
      "Resource": "*"
    },
    {
      "Sid": "AmazonSQSReadOnlyAccess",
      "Effect": "Allow",
      "Action": [
          "sqs:GetQueueAttributes",
          "sqs:GetQueueUrl",
          "sqs:ListDeadLetterSourceQueues",
          "sqs:ListQueues",
          "sqs:ListMessageMoveTasks",
          "sqs:ListQueueTags"
      ],
      "Resource": "*"
    },
    {
      "Sid": "SNSReadOnlyAccess",
      "Effect": "Allow",
      "Action": [
          "sns:GetTopicAttributes",
          "sns:List*",
          "sns:CheckIfPhoneNumberIsOptedOut",
          "sns:GetEndpointAttributes",
          "sns:GetDataProtectionPolicy",
          "sns:GetPlatformApplicationAttributes",
          "sns:GetSMSAttributes",
          "sns:GetSMSSandboxAccountStatus",
          "sns:GetSubscriptionAttributes"
      ],
      "Resource": "*"
    },
    {
      "Sid": "SMSAccessViaSNS",
      "Effect": "Allow",
      "Action": [
          "sms-voice:DescribeVerifiedDestinationNumbers",
          "sms-voice:DescribeAccountAttributes",
          "sms-voice:DescribeSpendLimits",
          "sms-voice:DescribePhoneNumbers",
          "sms-voice:DescribeOptedOutNumbers"
      ],
      "Resource": "*",
      "Condition": {
          "StringEquals": {
              "aws:CalledViaLast": "sns.amazonaws.com"
          }
      }
    },
    {
      "Sid": "SecretsManagerAccess",
      "Effect": "Allow",
      "Action": [
          "secretsmanager:GetRandomPassword",
          "secretsmanager:GetResourcePolicy",
          "secretsmanager:GetSecretValue",
          "secretsmanager:DescribeSecret",
          "secretsmanager:ListSecretVersionIds",
          "secretsmanager:ListSecrets",
          "secretsmanager:BatchGetSecretValue"
      ],
      "Resource": "*"
    }
  ]
}
